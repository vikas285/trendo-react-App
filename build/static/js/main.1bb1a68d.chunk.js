(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(26),s=n.n(c),i=(n(33),n.p,n(34),n(5)),r=n(6),o=n(8),l=n(7),u=n(12),d=n(0),j=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"0rem 2rem"},children:[Object(d.jsxs)(u.b,{to:"/",style:{textDecoration:"none"},children:[" ",Object(d.jsx)("h2",{className:"common",style:{marginLeft:"0.5rem",marginTop:"1rem",padding:"0.6rem",borderRadius:"2rem",boxShadow:"0.2rem 0.2rem 0.5rem black"},children:"MOVFLIX"})]}),Object(d.jsx)(u.b,{to:"/favourites",style:{textDecoration:"none"},children:Object(d.jsx)("h5",{className:"common",style:{marginLeft:"2rem",marginTop:"1rem",padding:"1rem",borderRadius:"2rem",boxShadow:"0.2rem 0.2rem 0.5rem black"},children:"FAVOURITES"})})]})}}]),n}(a.Component),m=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.pic[0];return Object(d.jsx)(d.Fragment,{children:""==e?Object(d.jsx)("div",{className:"spinner-border text-info ",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden ",children:"Loading..."})}):Object(d.jsxs)("div",{className:"card banner-card ",children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(null===e||void 0===e?void 0:e.backdrop_path),alt:null===e||void 0===e?void 0:e.title,className:"card-img-top banner-img banner-img"}),Object(d.jsx)("h1",{className:"card-title banner-title",children:null===e||void 0===e?void 0:e.original_title}),Object(d.jsx)("p",{className:"card-text banner-text",children:null===e||void 0===e?void 0:e.overview})]})})}}]),n}(a.Component),h=n(17),b=n.n(h),g=n(9),v=n(27),p=n(28),O=n.n(p),x=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).changeMovies=Object(v.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("https://api.themoviedb.org/3/movie/popular?api_key=f1affc5603c4d5b32ab137a0b8f355ce&language=en-US&page=".concat(e.state.currPage));case 2:n=t.sent,a=n.data,e.setState({movies:Object(g.a)(a.results),count:e.state.count+1},(function(){e.handleFavClickState(),1===e.state.count&&e.setState({banMov:e.state.movies})}));case 5:case"end":return t.stop()}}),t)}))),e.handleRightClick=function(){console.log("NEXT");for(var t=[],n=1;n<=e.state.pArr.length+1;n++)t.push(n);e.setState({pArr:[].concat(t),currPage:e.state.currPage+1},e.changeMovies)},e.handleLeftClick=function(){1!=e.state.currPage&&e.setState({currPage:e.state.currPage-1},e.changeMovies)},e.handleOnPageClick=function(t){t!=e.state.currPage&&e.setState({currPage:t},e.changeMovies)},e.handleFavClick=function(t){var n=JSON.parse(localStorage.getItem("movies")||"[]");e.state.favourites.includes(t.id)?n=n.filter((function(e){return e.id!=t.id})):n.push(t),localStorage.setItem("movies",JSON.stringify(n)),console.log(n,"XXXXXXXXXXXXXXXXXX"),e.handleFavClickState()},e.handleFavClickState=function(){var t=JSON.parse(localStorage.getItem("movies")||"[]").map((function(e){return e.id}));console.log(t,"SOLANKI"),e.setState({favourites:Object(g.a)(t)})},e.state={hover:"",pArr:[1],currPage:1,movies:[],favourites:[],count:0,banMov:[]},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.changeMovies(),console.log("MOUNTING PROCESS")}},{key:"render",value:function(){var e=this;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{pic:this.state.banMov}),0==this.state.movies.length?Object(d.jsx)("div",{class:"spinner-border text-info ",role:"status",children:Object(d.jsx)("span",{class:"visually-hidden common",children:"Loading..."})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{className:"text-center common trend",style:{marginTop:"2rem"},children:Object(d.jsx)("strong",{children:"TRENDING TODAY"})}),Object(d.jsx)("div",{className:"movies-list common",children:this.state.movies.map((function(t){return Object(d.jsxs)("div",{className:"card movies-card ",onMouseEnter:function(){return e.setState({hover:t.id})},onMouseLeave:function(){return e.setState({hover:""})},children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(t.backdrop_path),alt:t.title,className:"card-img-top banner-img movies-img"}),Object(d.jsx)("h5",{className:"card-title movies-title",children:t.original_title}),Object(d.jsx)("div",{className:"button-wrapper",style:{display:"flex",width:"100%",justifyContent:"center"},children:e.state.hover==t.id&&Object(d.jsx)("a",{className:"btn btn-info movies-button common",onClick:function(){return e.handleFavClick(t)},children:e.state.favourites.includes(t.id)?"Remove From Favourites":"Add To Favourites"})})]})}))}),Object(d.jsx)("div",{className:"page",style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)("nav",{"aria-label":"Page navigation example",children:Object(d.jsxs)("ul",{class:"pagination",children:[Object(d.jsx)("li",{class:"page-item",children:Object(d.jsx)("a",{class:"page-link common",onClick:this.handleLeftClick,children:"Previous"})}),this.state.pArr.map((function(t){return Object(d.jsx)("li",{class:"page-item common",children:Object(d.jsx)("a",{class:"page-link common",onClick:function(){return e.handleOnPageClick(t)},children:t})})})),Object(d.jsx)("li",{class:"page-item",children:Object(d.jsx)("a",{class:"page-link common",onClick:this.handleRightClick,children:"Next"})})]})})})]})]})}}]),n}(a.Component),f=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleGenreChange=function(t){e.setState({currgen:t})},e.sortPopularityDesc=function(){var t=e.state.movies;t.sort((function(e,t){return t.popularity-e.popularity})),e.setState({movies:Object(g.a)(t)})},e.sortPopularityAsc=function(){var t=e.state.movies;t.sort((function(e,t){return e.popularity-t.popularity})),e.setState({movies:Object(g.a)(t)})},e.sortRatingDesc=function(){var t=e.state.movies;t.sort((function(e,t){return t.vote_average-e.vote_average})),e.setState({movies:Object(g.a)(t)})},e.sortRatingAsc=function(){var t=e.state.movies;t.sort((function(e,t){return e.vote_average-t.vote_average})),e.setState({movies:Object(g.a)(t)})},e.handlePageChange=function(t){e.setState({currPage:t})},e.handleDelete=function(t){var n;n=e.state.movies.filter((function(e){return e.id!=t})),e.setState({movies:Object(g.a)(n)}),localStorage.setItem("movies",JSON.stringify(n))},e.state={genres:[],currgen:"All Genres",movies:[],currText:"",limit:5,currPage:1},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV",53:"Thriller",10752:"War",37:"Western"},t=JSON.parse(localStorage.getItem("movies")||"[]"),n=[];t.forEach((function(t){n.includes(e[t.genre_ids[0]])||n.push(e[t.genre_ids[0]])})),n.unshift("All Genres"),this.setState({genres:[].concat(n),movies:Object(g.a)(t)})}},{key:"render",value:function(){var e=this,t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV",53:"Thriller",10752:"War",37:"Western"},n=[];n=""===this.state.currText?this.state.movies:this.state.movies.filter((function(t){return t.original_title.toLowerCase().includes(e.state.currText.toLowerCase())})),"All Genres"!=this.state.currgen&&(n=this.state.movies.filter((function(n){return t[n.genre_ids[0]]==e.state.currgen})));for(var a=Math.ceil(n.length/this.state.limit),c=[],s=1;s<=a;s++)c.push(s);var i=(this.state.currPage-1)*this.state.limit,r=i+this.state.limit;return n=n.slice(i,r),Object(d.jsx)("div",{children:Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"main",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3 col-sm-12",children:Object(d.jsx)("ul",{class:"list-group fav-genere common cur",children:this.state.genres.map((function(t){return e.state.currgen==t?Object(d.jsx)("li",{class:"list-group-item common ",children:t}):Object(d.jsx)("li",{class:"list-group-item",style:{background:"white",color:"black"},onClick:function(){return e.handleGenreChange(t)},children:t})}))})}),Object(d.jsxs)("div",{className:"col-lg-9 fav-side col-sm-12 ",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("input",{type:"text",className:"input-group-text col common",placeholder:"Search",value:this.state.currText,onChange:function(t){return e.setState({currText:t.target.value})}}),Object(d.jsx)("input",{type:"number",className:"input-group-text col common",placeholder:"Rows Count",value:this.state.limit,onChange:function(t){return e.setState({limit:t.target.value})}})]}),Object(d.jsx)("div",{className:"row tab",children:Object(d.jsxs)("table",{class:"table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"Title"}),Object(d.jsx)("th",{scope:"col",children:"Genre"}),Object(d.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(d.jsx)("i",{class:"fas fa-sort-up cur",onClick:this.sortPopularityDesc}),"Popularity",Object(d.jsx)("i",{class:"fas fa-sort-down cur",onClick:this.sortPopularityAsc})]}),Object(d.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(d.jsx)("i",{class:"fas fa-sort-up cur",onClick:this.sortRatingDesc}),"Rating",Object(d.jsx)("i",{class:"fas fa-sort-down cur",onClick:this.sortRatingAsc})]}),Object(d.jsx)("th",{scope:"col"})]})}),Object(d.jsx)("tbody",{children:n.map((function(n){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(n.backdrop_path),alt:n.title,style:{width:"5rem"}})," ",n.original_title]}),Object(d.jsx)("td",{children:t[n.genre_ids[0]]}),Object(d.jsx)("td",{style:{textAlign:"center"},children:n.popularity}),Object(d.jsx)("td",{style:{textAlign:"center"},children:n.vote_average}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return e.handleDelete(n.id)},children:"Delete"})})]})}))})]})}),Object(d.jsx)("nav",{"aria-label":"Page navigation example",children:Object(d.jsx)("ul",{class:"pagination",children:c.map((function(t){return Object(d.jsx)("li",{class:"page-item",children:Object(d.jsx)("a",{class:"page-link common",onClick:function(){return e.handlePageChange(t)},children:t})})}))})})]})]})})})})}}]),n}(a.Component),y=n(2),C=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{style:{flex:1,height:"100%",flexDirection:"column"},children:Object(d.jsx)(x,{})})}}]),n}(a.Component);var k=function(){return Object(d.jsxs)(u.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(y.c,{children:[Object(d.jsx)(y.a,{path:"/",exact:!0,element:Object(d.jsx)(C,{})}),Object(d.jsx)(y.a,{path:"/favourites",element:Object(d.jsx)(f,{})})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};s.a.render(Object(d.jsx)(k,{}),document.getElementById("root")),S()}},[[55,1,2]]]);
//# sourceMappingURL=main.1bb1a68d.chunk.js.map